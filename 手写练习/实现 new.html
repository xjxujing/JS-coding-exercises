<script>
  function myNew(constructorFn, ...args) {
    // function Fn() { }
    // Fn.prototype = Object.create(constructorFn.prototype)
    // const result = constructorFn.apply(newObject, arguments)
    // return typeof result === 'object' ? result : newObject

    const newObj = {}
    newObj.__proto__ = constructorFn.prototype
    const result = constructorFn.apply(newObj, args)
    return typeof result === 'object' ? result : newObj
  }


  function foo() {
    this.b = 100
    return this.a
  }

  var func = foo.bind({ a: 1 })
  console.log(func())
  console.log(new func())

  console.log(myNew(func))

</script>